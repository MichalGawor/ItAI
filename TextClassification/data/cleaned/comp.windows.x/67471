b'' b'** i am posting this for a friend b'' b"i'm working on an application where we are creating a dither pattern" b'and rendering it in a window by applying it to the stipple pattern' b'of the gc. the following code segment almost works if the window width' b'is an even multiple of if it is not an even multiple it skews the' b'pattern towards the right. another problem, whether it is an even' b'multiple of or not, is a series of vertical lines spaced pixels' b'apart.' b'' b'' b'extern\tdisplay\t *dpy;' b'extern\twindow\t\txid;' b'extern\tgc\t\tgc;' b'' b'extern\tint\tmax_x, max_y;\t\t/* set in resize handler\t*/' b'' b'dither(pixels)' b'' b'char\t*pixels;\t\t/* dither pattern data\t\t*/' b'' b'{' b'char\t*bm;\t\t\t/* bitmap data\t\t\t*/' b'char *bmp;' b'long\t i, arraymax;' b'' b'' b'arraymax max_x*max_y;' b'' b'bm (char *)malloc(arraymax);' b'bmp bm;' b'' b'for (i=j=0; i<arraymax; i++)' b'{' b'if (pixels[i] dither_bit)' b'*bmp 2<<j;\t\t/* pixel on\t\t*/' b'else' b'*bmp ~(2<<j);\t/* pixel off\t\t*/' b'' b'if (++j b'{' b'bmp++;' b'j b'}' b'}' b'' b'stipple xcreatebitmapfromdata(dpy, xid, bm, max_x, max_y);' b'free(bm);' b'' b'xclearwindow(dpy, xid);' b'' b'xsetstipple(dpy, gc, stipple);' b'xsetfillstyle(dpy, gc, fillstippled);' b'xfillrectangle(dpy, xid, gc, max_x, max_y);' b'xsetfillstyle(dpy, gc, fillsolid);' b'}' b'' b'i suspect the answer is to pad the data.' b'' b'--' b'mike vaughn' b'sonatech' 