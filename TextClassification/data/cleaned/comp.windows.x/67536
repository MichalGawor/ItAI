b'' b'we are adding a motif wrapper to a family of data display programs.' b'' b"these programs are each written as a 'main loop' with these steps:" b'- use semop to check a semaphore and if true access new data' b'otherwise block (new data comes quite often)' b'- use msgop to check for messages and if true read them' b'otherwise continue (messages are user commands and not often)' b'- update the display according to latest data and messages.' b'' b'we typically have several of these running in windows,' b'plus a data producer serving some device and setting the flag.' b'everyone blocking makes sure the device server gets to run.' b'' b"xt and xm also have a 'main loop' model that we must fit into." b"o'reilly vol iv ch discusses adding a file-watcher and also" b'how to add workprocs that are run during idle time.' b'' b"we can 'open-up' our existing main loop and call it as a workproc." b'the problem is our blocking until new data is no longer appropriate.' b'neither is letting the program free-run because others are hurt.' b'' b'the unix select call lets you block until any of several i/o are ready.' b'we want that for the x main loop except not file i/o.' b'any suggestions or examples most welcome!' b'' b'we run sgi personal iris and indigo systems.' b'' b'' b'' 