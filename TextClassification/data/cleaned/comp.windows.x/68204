b'' b'hello,' b'' b'below i have the copy of some source i am using to setup a user-specified color-' b'map for x r11 v4. i am attempting to create user defined colors in terms of' b'rgb color ranges. the calls to xalloccolor prove ineffective.' b'' b'variables are defined are as follows:' b'' b'int i, j, k, lut_index' b'color_type min_image, max_image;' b'color_type image pixel_value_range, last_image, start, end, jump,' b'lut b'unsigned long pixel;' b'double red, green, blue;' b'' b'/*' b'* data structure used by color operations' b'*' b'typedef struct b'unsigned long pixel;' b'unsigned short red, green, blue;' b'char flags; do_red, do_green, do_blue b'char pad;' b'} xcolor;' b'***************/' b'xcolor rgbcolor, hardwarecolor;' b'' b'' b'with color_type defined as double red, double green, double blue b'' b'what i need to know is how to set [is it possible] the values in hardwarecolor' b'to work within the call to xalloccolor:' b'' b'start.red (int) min_image.red;\t/* b'end.red (int) max_image.red;\t/* b'jump.red (int) end.red start.red b'' b'start.green (int) min_image.green; b'end.green (int) max_image.green; b'jump.green (int) end.green start.green b'' b'start.blue (int) min_image.blue; b'end.blue (int) max_image.blue; b'jump.blue (int) end.blue start.blue b'' b'lut_index b'for (i=0; i<8; i++)' b'for (j=0; j<8; j++)' b'for (k=0; k<8; k++)' b'{' b'if i jump.red b'lut lut_index ].red start.red;' b'else' b'lut lut_index ].red jump.red i b'' b'if j jump.green b'lut lut_index ].green start.green;' b'else' b'lut lut_index ].green jump.green j b'' b'if k jump.blue b'lut lut_index ].blue start.blue;' b'else' b'lut lut_index ].blue jump.blue* k b'' b'hardwarecolor.red (short) lut lut_index ].red;' b'hardwarecolor.green (short) lut lut_index ].green;' b'hardwarecolor.blue (short) lut lut_index ].blue;' b'hardwarecolor.pixel lut_index;' b'' b'printf("hw1: i %d %d %d %d: pixel %d \\n", lut_index, hardwarecolor.red,' b'hardwarecolor.green, hardwarecolor.blue, hardwarecolor.pixel b'' b'status xalloccolor dpy, colormap, &hardwarecolor b'printf("hw2: i %d: %d %d %d: pixel %d \\n", lut_index, hardwarecolor.red,' b'hardwarecolor.green, hardwarecolor.blue, hardwarecolor.pixel b'if status b'{' b'xsetforeground dpy, gc, hardwarecolor.pixel b'xfillrectangle dpy, win, gc, maxcolumn, maxrow b'xflush dpy b'sleep b'printf("%d: %f %f %f at %d \\n", lut_index, lut lut_index ].re' b'lut lut_index ].green, lut lut_index ].blue,' b'hardwarecolor.pixel b'}' b'lut_index lut_index b'}' b'' b'thanks in advance to anyone who can help me with this problem.' b'' b'sincerely,' b'' b'john f. duggan' b'' b'----------------------------------------------------------------------------' b'john f. duggan alias :genghis khan' 