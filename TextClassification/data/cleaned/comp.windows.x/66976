b'' b'the subject does not describe the problem i am having very well. please read' b'on...' b'' b'i am trying to write a function which creates an xtappcontext and a widget,' b'displays the widget for a while, then destroys everything and returns. the' b'problem is that multiple calls to this function cause a variety of problems' b'including (depending on which calls i make to get rid of things):' b'' b'- core dump' b'- badpixmap x error' b'- widget not unmapped' b'' b'' b'here is a simple (c++) program i wrote to show the problem:' b'' b'#include <x11/xlib.h' b'#include <xm/xm.h' b'#include <xm/pushb.h' b'' b'void bla()' b'{' b'xtappcontext app;' b'display *dis xopendisplay("");' b'int junk b'' b'widget top=xtappinitialize (&app, "test", null, &junk, null,' b'null, null, b'' b'widget box xtvacreatemanagedwidget("blaaa", xmpushbuttonwidgetclass,' b'top,' b'xmnheight, b'xmnwidth, b'null);' b'' b'xtrealizewidget(top);' b'//same as xtappmainloop but with only xevents' b'for (int i=0;i<=10;i++)' b'{' b'xevent event;' b'xtappnextevent(app, &event);' b'xtdispatchevent(&event);' b'}' b'' b'// what should i put here???' b'xtunrealizewidget(top);' b'xtdestroywidget(top);' b'xtdestroyapplicationcontext(app);' b'xclosedisplay(dis);' b'// b'}' b'' b'main()' b'{' b'for (int i=0;i<=20;i++)' b'bla();' b'}' b'' b'note that i rewrote xtappmainloop so that at a given time (in this example,' b'after xevents) the function will exit and return to the main program.' b'with this example, i get the following error on about (this is not consistent)' b'the 5th call to bla():' b'' b'x error of failed request: badpixmap (invalid pixmap parameter)' b'major opcode of failed request: (x_creategc)' b'resource id in failed request: 0xe0000d' b'serial number of failed request: b'current serial number in output stream: b'' b'if i take out the xtunrealizewidget(top); line, it just dumps core on the' b'seconds call.' b'' b'furthermore, every time i call xtappinitialize() (other than the 1st time), i' b'get:' b'' b'warning: initializing resource lists twice' b'warning: initializing translation manager twice.' b'' b'' b'so finally, my question is this:' b'' b'what needs to be done in order to be able to call a function which creates' b'an xtappcontext and widgets multiple times?' b'' b'any help would be greatly appreciated.' b'' b'please respond via email as i dont usually have time to read this group.' b'' b'thanks very much.' b'' b'-davewood' b'--' b'-------------------------------------------------------------------------------' b'-------------------------------------------------------------------------------' 