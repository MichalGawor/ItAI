b'' b'' b'dear sgi and netter gl-x mixed-model experts,' b'i am writing a mixed model application that creates a couple different' b"color maps for different windows, and i've been having trouble getting" b'the window manager to reliably honor my requests. in some environments' b'(entry level r3000 indigo w/ all windows are getting properly' b'connected to their designated color maps, but on others (an iris 4d 240/gtx;' b'also a different entry level indigo) the color mapping is unreliable' b'and changes behavior when i compile at different times. the most common' b'problem is that all non-top-level windows fail to be displayed according' b'to their colormap. my application starts out by creating three top-level' b'windows; in some cases all but the first of these also fail to be' b'displayed by their colormap. this is spectacularly aggravating.' b'' b'i would dearly appreciate' b'1. an explanation of the standard, right, correct way to give a window' b'a colormap such that the window manager will honor and obey it;' b'' b'2. any advice about problems that could cause my failure to get my' b'desired colormaps.' b'' b'by now i have exhausted my own attempts on this, having tried everything' b'reasonable or imaginable.' b'' b'below is example code giving the schematic for how i have been *trying*' b'to do this. please, please, please somebody tell me what i am doing' b'wrong/how to do it right!!!' b'' b'' b'yours,' b'' b'chris lee' b'' b'/***********************************************************************/' b'display* dpy; declare some data... b'colormap popup_cmap;' b'xcolor mycolor;' b'window win;' b'xsetwindowattributes cwa;' b'int nwlist;' b'window *wlist;' b'' b'/* nb: for brevity, not showing all code lines--just a schematic b'' b'popup_cmap=xcreatecolormap(dpy,defaultrootwindow(dpy),vis-visual,allocall);' b'' b'/* here we store a bunch of colors using' b'xstorecolor(dpy,popup_cmap,&mycolor); b'' b'cwa.colormap popup_cmap;' b'win xcreatewindow(dpy, parent, x, y, w, h,' b'borderwidth, vis-depth, inputoutput, vis-visual,' b'cwcolormap|cwborderpixel, &cwa);' b'' b'' b'/* list all sub windows of my_topwin, parent of win, into wlist;' b'nwlist is counter of entries in wlist.' b'' b'nb: wlist is static storage that can be relied on not to go away' b'or be corrupted. i thought of that! does anyone know if' b'setting wm properties is by data copy, or by reference pointer?' b'' b'ie. is it acceptable to pass data for a property, then free' b'the data? b'xsetwmcolormapwindows(dpy,my_topwin,wlist,nwlist);' b'' b'xmapraised(display0,win);' b'' b'/* later on we handle xevents normally... typical eventloop b'' b'' 