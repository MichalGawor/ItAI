b'' b' and here is the first patch the following fixes some problems with the' b' imakefile files and makes it possible to compile xv-3.00 under solaris without' b' having to use the ucb stuff:' b'' b"oops, i didn't get the signal processing right (thats what i get from doing" b'the work on an ascii terminal). here is the fixed patch:' b'' b"the patches for xv.h need to use ``#ifdef svr4'' rather than the" b"overly complex ``#if defined(sun) defined(sysv)'' in order to" b'generically compile xv on i386svr4architecture. also, rand and srand' b"don't work very well--use lrand48 and seed48 to get better results." b'otherwise, xv-3.00 compiles just fine on my esix system v box' b'with xfree86 and gcc-2.3.3. i just uncommented the gcc definition in' b'the makefile, added -l/usr/x386/lib -i/usr/x386/include to the copts' b'line and modified libs to include -lsocket -lnsl. really john, if you' b"just use the imakefile things like this don't even have to get" b'mentioned...' b'' b'*** 1.1\t1993/04/28 b'--- xv.h\t1993/04/28 b'***************' b'*** b'--- b'' b'' b'/* signal macros b'+ #ifdef svr4' b'+ #define hold_sig sighold(sigalrm)' b'+ #define release_sig sigrelse(sigalrm)' b'+ #define pause_sig sigpause(sigalrm)' b'+ #else' b'#define hold_sig sigblock(sigmask(sigalrm))' b'#define release_sig sigblock(0)' b'#define pause_sig sigpause(0)' b'+ #endif' b'' b'' b'/* default for most folks b'***************' b'*** b'--- b'#define random rand' b'#define srandom srand' b'#endif' b'+ #ifdef svr4' b'+ #define random lrand48' b'+ #define srandom seed48' b'+ #endif' b'' b'' 